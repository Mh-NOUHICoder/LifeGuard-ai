import { Language } from '@/types/gemini';

export const translations = {
  [Language.ENGLISH]: {
    app: {
      title: 'LifeGuard AI',
      subtitle: 'Real-time Emergency Response',
      startButton: 'START',
      callEmergency: ' CALL EMERGENCY',
      exit: 'EXIT',
      analyzeScene: 'ANALYZE SCENE',
      processing: 'PROCESSING...',
      pointCamera: 'Point camera at emergency scene and tap to analyze',
      flipCamera: 'Flip camera',
      repeatInstructions: 'Repeat instructions',
      analyzing: 'ANALYZING SCENE...',
      recording: 'REC',
      debug: 'Debug',
      checkConsole: 'Check browser console for detailed logs',
      https: 'HTTPS',
      mediaDevices: 'Media Devices',
      getUserMedia: 'Get User Media',
      speechSynthesis: 'Speech Synthesis',
      canvas: 'Canvas',
      startButtonDescription: 'Tap to begin real-time emergency analysis and AI guidance',
      holding: 'HOLDING...',
      pressAndHold: 'Press and hold for 2 seconds',
      keepHolding: 'Keep holding to activate...',
      agentActive: 'AGENT ACTIVE',
      monitoring: 'MONITORING ENV...',
      fastPathTrigger: 'HAZARD DETECTED',
      deepPathProcess: 'VERIFYING THREAT...',
      autoDispatch: 'AUTO-DISPATCH IN',
      agentLogTitle: 'AGENT_OS_V2.log',
      systemActive: 'SYSTEM ACTIVE',
    },
    hud: {
      fastPathActive: 'FAST PATH ACTIVE',
      systemReady: 'SYSTEM READY. AWAITING INPUT...',
      reasoningEngine: 'REASONING ENGINE',
    },
    pipeline: {
      title: 'Neural Inference Pipeline',
      stages: {
        vision: 'Vision Ingest',
        spatial: 'Spatial Reasoning',
        risk: 'Hemodynamic Risk Model',
        policy: 'Emergency Policy Gate',
        final: 'Final Decision Synthesis',
      },
      status: {
        processing: 'Processing...',
        completed: 'Completed',
        queued: 'Queued',
      },
      telemetry: {
        tokensPerSec: 'Tokens/sec',
        activeModality: 'Active Modality',
        modalityValue: 'Vision + Reasoning',
        pipelineState: 'Pipeline State',
      },
      complete: 'Neural Inference Complete',
    },
    metrics: {
      threatPriority: 'THREAT PRIORITY',
      sceneIntel: 'SCENE INTEL',
      signalIntegrity: 'SIGNAL INTEGRITY',
      alertMagnitude: 'ALERT MAGNITUDE',
      criticalThreat: 'CRITICAL THREAT',
    },
    logs: {
      systemActivated: 'System activated. Monitoring environment...',
      highAudioDetected: 'High audio level detected',
      initiatingAnalysis: 'Initiating multimodal analysis...',
      classified: 'Classified',
      autoDispatch: 'Auto-dispatch triggered for',
      reasoning: 'Reasoning',
      error: 'Error',
      retrying: 'Retrying...',
      failed: 'Failed',
      analysisComplete: 'Analysis Complete',
      deepReasoningComplete: 'DEEP REASONING COMPLETE',
    },
    emergency: {
      dangerLevel: 'Danger Level',
      warning: 'Warning',
      noEmergency: 'No emergency detected',
      ensureSafe: 'Ensure you are in a safe environment',
    },
    emergencyTypes: {
      'Severe Bleeding': 'Severe Bleeding',
      'Fire or Smoke': 'Fire or Smoke',
      'Car Accident': 'Car Accident',
      'Drowning': 'Drowning',
      'Assault': 'Assault',
      'Unconscious Person': 'Unconscious Person',
      'Suspicious Activity': 'Suspicious Activity',
      'Not an Emergency': 'Not an Emergency',
    },
    dangerLevels: {
      'CRITICAL': 'CRITICAL',
      'HIGH': 'HIGH',
      'MODERATE': 'MODERATE',
      'LOW': 'LOW',
    },
    errors: {
      cameraPermission: '❌ Permission Denied: Please click "Allow" when prompted for camera/microphone access.',
      noCameraFound: '❌ No Camera/Microphone Found: Please check your device hardware.',
      securityError: '⚠️ Security Error: Try refreshing the page or use HTTPS.',
      failedAccess: '❌ Failed to access camera/microphone. Please retry.',
      analysisFailed: 'Analysis failed',
      networkError: 'Network error - check your internet connection',
      apiAuthFailed: 'API authentication failed - check configuration',
      analysisTimeout: 'Analysis took too long (>30 seconds). Check internet connection and try again.',
      timeout: 'Request timeout - server not responding',
      retrying: 'Retrying...',
      overloaded: 'The AI service is currently overloaded. Please try again in a few moments.',
      quotaExceeded: 'API quota exceeded. Please try again later.',
      maxRetriesExceeded: 'Analysis failed after maximum retry attempts. Please check your connection and try again.',
    },
  },
  [Language.ARABIC]: {
    app: {
      title: 'حارس الحياة AI',
      subtitle: 'الاستجابة للطوارئ في الوقت الفعلي',
      startButton: 'ابدأ',
      callEmergency: ' اتصل بالطوارئ',
      exit: 'خروج',
      analyzeScene: 'تحليل المشهد',
      processing: 'جاري المعالجة...',
      pointCamera: 'وجه الكاميرا نحو حالة الطوارئ واضغط للتحليل',
      flipCamera: 'قلب الكاميرا',
      repeatInstructions: 'كرر التعليمات',
      analyzing: 'جاري تحليل المشهد...',
      recording: 'تسجيل',
      debug: 'تصحيح',
      checkConsole: 'تحقق من وحدة تحكم المتصفح للحصول على سجلات مفصلة',
      https: 'HTTPS',
      mediaDevices: 'أجهزة الوسائط',
      getUserMedia: 'الحصول على وسائط المستخدم',
      speechSynthesis: 'تركيب الكلام',
      canvas: 'لوحة الرسم',
      startButtonDescription: 'انقر للبدء في تحليل الطوارئ في الوقت الفعلي والحصول على إرشادات الذكاء الاصطناعي',
      holding: 'جاري الضغط...',
      pressAndHold: 'اضغط واستمر لمدة ثانيتين',
      keepHolding: 'استمر في الضغط للتفعيل...',
      agentActive: 'العميل نشط',
      monitoring: 'مراقبة البيئة...',
      fastPathTrigger: 'تم اكتشاف خطر',
      deepPathProcess: 'التحقق من التهديد...',
      autoDispatch: 'الإرسال التلقائي في',
      agentLogTitle: 'سجل_نظام_العميل_V2.log',
      systemActive: 'النظام نشط',
    },
    hud: {
      fastPathActive: 'المسار السريع نشط',
      systemReady: 'النظام جاهز. في انتظار الإدخال...',
      reasoningEngine: 'محرك الاستدلال',
    },
    pipeline: {
      title: 'خط المعالجة العصبية',
      stages: {
        vision: 'استيعاب بصري',
        spatial: 'استدلال مكاني',
        risk: 'نموذج مخاطر الدورة الدموية',
        policy: 'بوابة سياسة الطوارئ',
        final: 'تجميع القرار النهائي',
      },
      status: {
        processing: 'جاري المعالجة...',
        completed: 'مكتمل',
        queued: 'في الانتظار',
      },
      telemetry: {
        tokensPerSec: 'رمز/ثانية',
        activeModality: 'النمط النشط',
        modalityValue: 'رؤية + استدلال',
        pipelineState: 'حالة الخط',
      },
      complete: 'اكتمل الاستنتاج العصبي',
    },
    metrics: {
      threatPriority: 'أولوية التهديد',
      sceneIntel: 'استخبارات المشهد',
      signalIntegrity: 'سلامة الإشارة',
      alertMagnitude: 'حجم التنبيه',
      criticalThreat: 'تهديد حرج',
    },
    logs: {
      systemActivated: 'تم تفعيل النظام. مراقبة البيئة...',
      highAudioDetected: 'تم اكتشاف مستوى صوت مرتفع',
      initiatingAnalysis: 'بدء التحليل متعدد الوسائط...',
      classified: 'تم التصنيف',
      autoDispatch: 'تم تفعيل الإرسال التلقائي لـ',
      reasoning: 'التعليل',
      error: 'خطأ',
      retrying: 'إعادة المحاولة...',
      failed: 'فشل',
      analysisComplete: 'اكتمل التحليل',
      deepReasoningComplete: 'اكتمل الاستدلال العميق',
    },
    emergency: {
      dangerLevel: 'مستوى الخطر',
      warning: 'تحذير',
      noEmergency: 'لا توجد حالة طوارئ',
      ensureSafe: 'تأكد من أنك في مكان آمن',
    },
    emergencyTypes: {
      'Severe Bleeding': 'نزيف حاد',
      'Fire or Smoke': 'حريق أو دخان',
      'Car Accident': 'حادث سيارة',
      'Drowning': 'غرق',
      'Assault': 'اعتداء',
      'Unconscious Person': 'شخص فاقد للوعي',
      'Suspicious Activity': 'نشاط مشبوه',
      'Not an Emergency': 'لا توجد حالة طوارئ',
    },
    dangerLevels: {
      'CRITICAL': 'حرج',
      'HIGH': 'مرتفع',
      'MODERATE': 'متوسط',
      'LOW': 'منخفض',
    },
    errors: {
      cameraPermission: '❌ تم رفض الإذن: يرجى النقر على "السماح" عند المطالبة بالوصول إلى الكاميرا والميكروفون.',
      noCameraFound: '❌ لم يتم العثور على كاميرا أو ميكروفون: يرجى التحقق من أجهزة جهازك.',
      securityError: '⚠️ خطأ أمني: جرب تحديث الصفحة أو استخدم HTTPS.',
      failedAccess: '❌ فشل الوصول إلى الكاميرا والميكروفون. يرجى المحاولة مرة أخرى.',
      analysisFailed: 'فشل التحليل',
      networkError: 'خطأ في الشبكة - تحقق من اتصال الإنترنت لديك',
      apiAuthFailed: 'فشل المصادقة - تحقق من التكوين',
      analysisTimeout: 'استغرق التحليل وقتًا طويلاً (> 30 ثانية). تحقق من اتصال الإنترنت وحاول مرة أخرى.',
      timeout: 'انتهت مهلة الانتظار - الخادم لا يستجيب',
      retrying: 'إعادة المحاولة...',
      overloaded: 'خدمة الذكاء الاصطناعي مثقلة حاليًا. يرجى المحاولة مرة أخرى في لحظات.',
      quotaExceeded: 'تم تجاوز حصة API. يرجى المحاولة لاحقًا.',
      maxRetriesExceeded: 'فشل التحليل بعد محاولات إعادة المحاولة القصوى. يرجى التحقق من الاتصال والمحاولة مرة أخرى.',
    },
  },
  [Language.FRENCH]: {
    app: {
      title: 'LifeGuard AI',
      subtitle: 'Réponse aux urgences en temps réel',
      startButton: 'COMMENCER',
      callEmergency: ' APPELER LES URGENCES',
      exit: 'QUITTER',
      analyzeScene: 'ANALYSER LA SCÈNE',
      processing: 'TRAITEMENT...',
      pointCamera: 'Pointez la caméra vers la situation d\'urgence et appuyez pour analyser',
      flipCamera: 'Retourner la caméra',
      repeatInstructions: 'Répéter les instructions',
      analyzing: 'ANALYSE DE LA SCÈNE EN COURS...',
      recording: 'ENREG',
      debug: 'Débogage',
      checkConsole: 'Vérifiez la console du navigateur pour les journaux détaillés',
      https: 'HTTPS',
      mediaDevices: 'Appareils médias',
      getUserMedia: 'Obtenir les médias de l\'utilisateur',
      speechSynthesis: 'Synthèse vocale',
      canvas: 'Canevas',
      startButtonDescription: 'Appuyez pour commencer l\'analyse d\'urgence en temps réel et les conseils d\'IA',
      holding: 'APPUI EN COURS...',
      pressAndHold: 'Appuyez et maintenez pendant 2 secondes',
      keepHolding: 'Continuez à maintenir pour activer...',
      agentActive: 'AGENT ACTIF',
      monitoring: 'SURVEILLANCE...',
      fastPathTrigger: 'DANGER DÉTECTÉ',
      deepPathProcess: 'VÉRIFICATION...',
      autoDispatch: 'ENVOI AUTO DANS',
      agentLogTitle: 'AGENT_OS_V2.log',
      systemActive: 'SYSTÈME ACTIF',
    },
    hud: {
      fastPathActive: 'VOIE RAPIDE ACTIVE',
      systemReady: 'SYSTÈME PRÊT. EN ATTENTE D\'ENTRÉE...',
      reasoningEngine: 'MOTEUR DE RAISONNEMENT',
    },
    pipeline: {
      title: 'Pipeline d\'Inférence Neurale',
      stages: {
        vision: 'Ingestion Visuelle',
        spatial: 'Raisonnement Spatial',
        risk: 'Modèle de Risque Hémodynamique',
        policy: 'Porte de Politique d\'Urgence',
        final: 'Synthèse de Décision Finale',
      },
      status: {
        processing: 'Traitement...',
        completed: 'Terminé',
        queued: 'En file d\'attente',
      },
      telemetry: {
        tokensPerSec: 'Jetons/sec',
        activeModality: 'Modalité Active',
        modalityValue: 'Vision + Raisonnement',
        pipelineState: 'État du Pipeline',
      },
      complete: 'Inférence Neurale Terminée',
    },
    metrics: {
      threatPriority: 'PRIORITÉ DE LA MENACE',
      sceneIntel: 'RENSEIGNEMENT SCÈNE',
      signalIntegrity: 'INTÉGRITÉ DU SIGNAL',
      alertMagnitude: 'AMPLEUR DE L\'ALERTE',
      criticalThreat: 'MENACE CRITIQUE',
    },
    logs: {
      systemActivated: 'Système activé. Surveillance de l\'environnement...',
      highAudioDetected: 'Niveau audio élevé détecté',
      initiatingAnalysis: 'Lancement de l\'analyse multimodale...',
      classified: 'Classé',
      autoDispatch: 'Envoi automatique déclenché pour',
      reasoning: 'Raisonnement',
      error: 'Erreur',
      retrying: 'Nouvelle tentative...',
      failed: 'Échec',
      analysisComplete: 'Analyse terminée',
      deepReasoningComplete: 'RAISONNEMENT PROFOND TERMINÉ',
    },
    emergency: {
      dangerLevel: 'Niveau de danger',
      warning: 'Avertissement',
      noEmergency: 'Aucune urgence détectée',
      ensureSafe: 'Assurez-vous que vous êtes dans un environnement sûr',
    },
    emergencyTypes: {
      'Severe Bleeding': 'Saignement grave',
      'Fire or Smoke': 'Feu ou fumée',
      'Car Accident': 'Accident de voiture',
      'Drowning': 'Noyade',
      'Assault': 'Agression',
      'Unconscious Person': 'Personne inconsciente',
      'Suspicious Activity': 'Activité suspecte',
      'Not an Emergency': 'Pas d\'urgence',
    },
    dangerLevels: {
      'CRITICAL': 'CRITIQUE',
      'HIGH': 'ÉLEVÉ',
      'MODERATE': 'MODÉRÉ',
      'LOW': 'FAIBLE',
    },
    errors: {
      cameraPermission: '❌ Permission refusée : veuillez cliquer sur "Autoriser" lorsque vous êtes invité à accéder à la caméra et au microphone.',
      noCameraFound: '❌ Aucune caméra ou microphone trouvé : veuillez vérifier le matériel de votre appareil.',
      securityError: '⚠️ Erreur de sécurité : essayez d\'actualiser la page ou utilisez HTTPS.',
      failedAccess: '❌ Impossible d\'accéder à la caméra et au microphone. Veuillez réessayer.',
      analysisFailed: 'Échec de l\'analyse',
      networkError: 'Erreur réseau - vérifiez votre connexion Internet',
      apiAuthFailed: 'Erreur d\'authentification de l\'API - vérifiez la configuration',
      analysisTimeout: 'L\'analyse a pris trop de temps (> 30 secondes). Vérifiez votre connexion Internet et réessayez.',
      timeout: 'Délai d\'expiration - le serveur ne répond pas',
      retrying: 'Nouvelle tentative...',
      overloaded: 'Le service d\'IA est actuellement surchargé. Veuillez réessayer dans quelques instants.',
      quotaExceeded: 'Le quota API a été dépassé. Veuillez réessayer plus tard.',
      maxRetriesExceeded: 'Échec de l\'analyse après le maximum de tentatives. Veuillez vérifier votre connexion et réessayer.',
    },
  },
};

export const getTranslation = (language: Language, key: string): string => {
  const keys = key.split('.');
  let value: unknown = translations[language];
  
  for (const k of keys) {
    if (typeof value === 'object' && value !== null) {
      value = (value as Record<string, unknown>)[k];
    } else {
      return key;
    }
  }
  
  return typeof value === 'string' ? value : key;
};

export const t = (language: Language, key: string): string => {
  return getTranslation(language, key);
};
